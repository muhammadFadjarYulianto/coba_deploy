import{N as o,Q as n}from"./index-CS89oW_i.js";const c=async e=>{try{let r=o;if(Object.keys(e).length>0){const t=new URLSearchParams;if(e.category_name&&t.append("category_name",e.category_name),e.min_price!==void 0&&e.min_price!==""&&t.append("min_price",e.min_price),e.max_price!==void 0&&e.max_price!==""&&t.append("max_price",e.max_price),e.keyword&&t.append("keyword",e.keyword),e.page){const p=(e.page-1)*(e.limit||4);t.append("start",p+1)}e.limit&&t.append("limit",e.limit),r+=`?${t.toString()}`}const a=(await n.get(r)).data.data;return{categories:a.categories,products:a.pagination.results,pagination:{next:a.pagination.next,previous:a.pagination.previous,per_page:a.pagination.per_page,start_index:a.pagination.start_index,total_data:a.pagination.total_data}}}catch(r){throw r.response?new Error(r.response.data.message||"Failed to fetch products"):r.request?new Error("No response received from server"):new Error("Error setting up the request")}},d=async e=>{try{return(await n.get(`${o}/${e}`)).data.data}catch(r){throw r.response?new Error(r.response.data.message||"Failed to fetch product"):r.request?new Error("No response received from server"):new Error("Error setting up the request")}};export{d as a,c as g};
